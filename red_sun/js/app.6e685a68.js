(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],d=0,h=[];d<o.length;d++)r=o[d],s[r]&&h.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(h.length)h.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},a=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/red_sun/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},1665:function(t,e,i){"use strict";var n=i("a103"),s=i.n(n);s.a},"295f":function(t,e,i){},"2fe9":function(t,e,i){},"304a":function(t,e,i){},4368:function(t,e,i){},"490b":function(t,e,i){"use strict";var n=i("ed4b"),s=i.n(n);s.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.menu_section!=t.MenuSection.Intermission,expression:"menu_section != MenuSection.Intermission"}],class:{"main-menu":!0,"main-menu_section":t.menu_section!==t.MenuSection.Loading}},[i("div",{staticClass:"main-menu__panel-left"},[i("Panel")],1),i("div",{key:t.menu_section+"_header",staticClass:"main-menu__header"},[i("MenuHeader",[t._v(t._s(t.menu_header))])],1),i("div",{key:t.menu_section+"_content",staticClass:"main-menu__content"},[t.menu_section===t.MenuSection.Loading?i("div",{staticClass:"loading-section"},[i("div",{staticClass:"loading-section__header"},[i("div",[t._v(t._s(t.active_station.name))]),i("MenuButton",{nativeOn:{click:function(e){t.menu_section=t.MenuSection.ShipView}}},[t._v("Welcome")])],1),i("ContentSection",{staticClass:"loading-section__picture-container"},[i("img",{staticClass:"loading-section__picture",attrs:{src:t.active_station.url}})]),i("div",{staticClass:"loading-section__description"},[i("ContentSection",{staticClass:"content-section_text"},[i("div",[t._v("Traversing warpspace to new system")]),i("div",[t._v("Arrival imminent")]),i("div",[t._v("Have a nice day")])])],1)],1):t.menu_section===t.MenuSection.About?i("div",{staticClass:"menu-section"},[t._m(0),i("div",{staticClass:"menu-section__buttons"},[i("MenuButton",{nativeOn:{click:function(e){t.ambient_play=!t.ambient_play,t.beep()}}},[t._v("Ambient "+t._s(t.ambient_play?"ON":"OFF"))]),i("MenuButton",{nativeOn:{click:function(e){t.texture_filtering=!t.texture_filtering,t.beep()}}},[t._v("Texture filtering "+t._s(t.texture_filtering?"ON":"OFF"))]),i("MenuButton",{nativeOn:{click:function(e){t.ticker_disabled=!t.ticker_disabled,t.beep()}}},[t._v("Ticker "+t._s(t.ticker_disabled?"OFF":"ON"))]),i("MenuButton",{nativeOn:{click:function(e){t.secrets=!t.secrets,t.beep()}}},[t._v("Secrets "+t._s(t.secrets?"ON":"OFF"))]),i("MenuButton",{nativeOn:{click:function(e){t.menu_section=t.MenuSection.ShipView}}},[t._v("Back")])],1)]):t.menu_section===t.MenuSection.ShipView?i("div",{staticClass:"menu-section"},[i("div",{staticClass:"menu-section__content"},[i("ShipViewer",{attrs:{ship:t.active_ship,texture_filtering:t.texture_filtering}})],1),i("div",{staticClass:"menu-section__buttons"},[t._l(t.ships,function(e){return i("MenuButton",{key:e.name,class:{"menu-button_selected":t.active_ship===e},nativeOn:{click:function(i){t.active_ship!==e&&t.beep(),t.active_ship=e}}},[t._v("\n                    "+t._s(e.name_short||e.name)+"\n                ")])}),i("MenuButton",{nativeOn:{click:function(e){t.menu_section=t.MenuSection.About}}},[t._v("About")])],2)]):t._e()]),i("div",{staticClass:"main-menu__panel-right"},[i("Panel")],1),i("div",{staticClass:"main-menu__panels-bottom"},[i("Panel",[i("div"),t.menu_section===t.MenuSection.Loading?i("div",{staticClass:"panel__loading-bar-container"},[i("LoadingBar",{attrs:{percent:t.loading_progress}})],1):i("div",{staticClass:"panel__ticker-container"},[i("Ticker",{attrs:{disabled:t.ticker_disabled}})],1)])],1)])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menu-section__content"},[i("div",{staticClass:"about-section"},[i("div",{staticClass:"about-section__container"},[i("img",{staticClass:"about-section__logo",attrs:{src:"red_sun.svg"}}),i("div",{staticClass:"about-section__text"},[i("div",[t._v("Colony Wars: Red Sun tribute by "),i("a",{attrs:{href:"https://twitter.com/suxinjke"}},[t._v("suXin")])]),i("div",[t._v("This was made to practice CSS and also try "),i("a",{attrs:{href:"https://threejs.org/"}},[t._v("three.js")])]),i("div",[t._v("Models ripped with "),i("a",{attrs:{href:"https://github.com/suXinjke/RedSunRipper"}},[t._v("RedSunRipper")])]),i("div",[i("a",{attrs:{href:"https://youtu.be/KOtGQ01P72U?t=3433"}},[t._v("Watch the original menus in action")])])])])])])}],r=i("795b"),o=i.n(r),c=(i("96cf"),i("3b8d")),u=(i("336d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menu-button"},[t._t("default")],2)}),l=[],d=(i("8df7"),i("2877")),h={},p=Object(d["a"])(h,u,l,!1,null,null,null),_=p.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menu-header"},[t._t("default")],2)},f=[],m=n["a"].extend(),b=m,g=(i("fd25"),Object(d["a"])(b,v,f,!1,null,null,null)),w=g.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"panel"},[t._t("default")],2)},C=[],S=n["a"].extend(),k=S,M=(i("e1a5"),Object(d["a"])(k,y,C,!1,null,null,null)),x=M.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-section"},[i("div",{staticClass:"content-section__content"},[t._t("default")],2)])},j=[],R=(i("490b"),{}),A=Object(d["a"])(R,O,j,!1,null,null,null),T=A.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{ticker:!0,ticker_disabled:t.disabled}},[i("div",{staticClass:"ticker__tick"}),i("div",{staticClass:"ticker__tick"}),i("div",{staticClass:"ticker__tick"}),i("div",{staticClass:"ticker__tick"}),i("div",{staticClass:"ticker__tick"}),i("div",{staticClass:"ticker__tick"})])},I=[],B={props:{disabled:{type:Boolean,default:!1}}},E=B,P=(i("1665"),Object(d["a"])(E,F,I,!1,null,null,null)),H=P.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading-bar"},[i("div",{staticClass:"loading-bar__header"},[t._v("Loading")]),i("div",{staticClass:"loading-bar__bar-container"},[i("div",{staticClass:"loading-bar__bar",style:{width:t.percent+"%"}})])])},N=[],z=(i("c5f6"),{props:{percent:{type:Number,default:30}}}),V=z,Z=(i("d13b"),Object(d["a"])(V,L,N,!1,null,null,null)),$=Z.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ship-viewer"},[i("div",{staticClass:"ship-viewer__header"},[i("div",[t._v(t._s(t.ship.name))]),i("div",[t._v(t._s(t.ship.price))])]),i("ContentSection",{staticClass:"ship-viewer__view"},[i("div",{staticClass:"ship-viewer__model-container"},[i("canvas",{staticClass:"ship-viewer__model",attrs:{width:"1024",height:"768"}})]),i("div",{staticClass:"ship-viewer__stats"},[i("div",{staticClass:"ship-viewer__stats-attribute-section"},[i("div",{staticClass:"ship-attribute"},[i("div",{staticClass:"ship-attribute__header"},[t._v("HL")]),i("div",{staticClass:"ship-attribute__bar"},t._l(10,function(e){return i("div",{key:e,class:{"ship-attribute__chunk":!0,"ship-attribute__chunk_hull":e<=t.ship.hull}})}),0)]),i("div",{staticClass:"ship-attribute"},[i("div",{staticClass:"ship-attribute__header"},[t._v("SH")]),i("div",{staticClass:"ship-attribute__bar"},t._l(10,function(e){return i("div",{key:e,class:{"ship-attribute__chunk":!0,"ship-attribute__chunk_shield":e<=t.ship.shield}})}),0)])]),i("div",{staticClass:"ship-viewer__stats-hardpoint-section"},t._l(8,function(e){return i("div",{key:e,class:{"ship-hardpoint":!0,"ship-hardpoint_active":e<=t.ship.hardpoints}})}),0),i("div",{staticClass:"ship-viewer__stats-attribute-section"},[i("div",{staticClass:"ship-attribute"},[i("div",{staticClass:"ship-attribute__bar"},t._l(10,function(e){return i("div",{key:e,class:{"ship-attribute__chunk":!0,"ship-attribute__chunk_speed":10-e<t.ship.speed}})}),0),i("div",{staticClass:"ship-attribute__header"},[t._v("SP")])]),i("div",{staticClass:"ship-attribute"},[i("div",{staticClass:"ship-attribute__bar"},t._l(10,function(e){return i("div",{key:e,class:{"ship-attribute__chunk":!0,"ship-attribute__chunk_heat":10-e<t.ship.heat}})}),0),i("div",{staticClass:"ship-attribute__header"},[t._v("HT")])])])])]),i("div",{staticClass:"ship-viewer__description"},[i("ContentSection",{staticClass:"content-section_text"},[i("span",[i("span",{staticClass:"content-section__header"},[t._v(t._s(t.description_header))]),t._l(t.description_lines,function(e,n){return[i("span",{key:n},[n<=t.description_lines.length?i("br"):t._e(),t._v(t._s(e))])]}),t.typewriter_active?i("span",{class:{typewriter:!0,"content-section__header":t.typewriter_position<=t.ship.name.length}},[t._v("▄")]):t._e()],2)])],1)],1)},D=[],U=(i("7f7f"),i("ac6a"),i("5df3"),i("5a89"));window.THREE=U,i("ff19");var q=new U["GLTFLoader"],G=U,J=[{name:"Magentech CR8 Snapdragon",name_short:"CR8 Snapdragon",price:"Cost: 0 CR",description:["Scout Fighter",'"Empiret Naval Security surplus. Cheap, but better than nothing."'],file:"models/snapdragon.gltf",hull:6,speed:4,shield:4,heat:3,hardpoints:4},{name:"Zaibatsu Zu-7 Ryusei",name_short:"Zaibatsu Zu-7 Ryusei",price:"Cost: 38 000 CR",description:["Light Fighter",'"Tried and tested for over 30 years. Think reliable, think Ryusei."'],file:"models/z_rusei.gltf",hull:6,speed:5,shield:5,heat:5,hardpoints:5},{name:"Zaibatsu Zu-15A Shinden",name_short:"Zu-15A Shinden",price:"Cost: 70 000 CR",description:["Multi-role Fighter",'"Powerful and versatile, Zaibatsu deliver the best once again."'],file:"models/z_shinden.gltf",hull:6,speed:6,shield:6,heat:5,hardpoints:6},{name:"Harper-Jones H2S Cobra",name_short:"H2S Cobra",price:"Cost: 110 000 CR",description:["Multi-role Fighter",'"All the lethality you need at a price you can afford."'],file:"models/hj_cobra.gltf",hull:8,speed:6,shield:6,heat:6,hardpoints:6},{name:"Harper-Jones H4E Magnum",name_short:"H4E Magnum",price:"Cost: 145 200 CR",description:["Interceptor",'"The choice of the more discerning mercenary."'],file:"models/hj_magnum.gltf",hull:8,speed:6,shield:6,heat:7,hardpoints:7},{name:"Beth Skarn Industries 919 Medusa II",name_short:"BSI 919 Medusa II",price:"Cost: 192 500 CR",description:["Interceptor",'"Want to do your enemy harm? Fight and win - Beth Skarn."'],file:"models/bsi_medusa.gltf",hull:8,speed:6,shield:7,heat:7,hardpoints:7},{name:"Beth Skarn Industries 303 Hyper Zeroid",name_short:"BSI 303 Hyper Zeroid",price:"Cost: 207 300 CR",description:["Interceptor",'"A state-of-the-art killer. Beth Skarn always deliver."'],file:"models/bsi_zeroid.gltf",hull:8,speed:7,shield:7,heat:8,hardpoints:8},{name:"Sha'Har Fighter",price:"Cost: N/A",description:["Light Strike Fighter",'"Fast. Deadly. Inhuman."'],file:"models/shahar.gltf",hull:6,speed:9,shield:9,heat:8,hardpoints:4,light_intensity:3},{name:"Max Paynecopter",price:"Cost: N/A",description:["NY Undercover Agent",'"A helicopter with nothing to lose."',"Can be encountered in Half-Payne subspace"],file:"models/paynecopter.gltf",hull:2,speed:3,shield:0,heat:10,hardpoints:1,secret:!0,light_intensity:5},{name:"🐸",price:"Cost: N/A",description:["Frog",'"It is known that [DATA EXPUNGED]"'],file:"models/frog.gltf",hull:6,speed:7,shield:0,heat:3,hardpoints:2,secret:!0}];function X(t){return K.apply(this,arguments)}function K(){return K=Object(c["a"])(regeneratorRuntime.mark(function t(e){var i,n=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:function(){},t.abrupt("return",new o.a(function(t,n){q.load(e,function(e){t(e.scene)},function(t){i(t)},function(t){n(t)})}));case 2:case"end":return t.stop()}},t)})),K.apply(this,arguments)}function Q(){return Y.apply(this,arguments)}function Y(){return Y=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,i,n,s,a=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:function(){},i=J.map(function(){return 0}),n=function(t,n){i[t]=n;var s=i.reduce(function(t,e){return t+e},0)/i.length;e(s)},t.next=5,o.a.all(J.map(function(t,e){return X(t.file,function(t){n(e,t.loaded/t.total)}).then(function(t){return n(e,1),t})}));case 5:s=t.sent,s.forEach(function(t,e){J[e].model=t});case 7:case"end":return t.stop()}},t)})),Y.apply(this,arguments)}var tt=30,et=new G.Scene,it=new G.PerspectiveCamera(75,1024/768,.1,2e3),nt=new G.AmbientLight(16777215);et.add(nt);var st=void 0,at={components:{ContentSection:T},data:function(){return{typewriter_position:0,typewriter_timeout:void 0,renderer:void 0,lastCanvasWidth:0,lastCanvasHeight:0,rotation:0}},props:{ship:{type:Object,required:!0},texture_filtering:{type:Boolean,default:!0}},computed:{description_header:function(){return this.ship.name.slice(0,this.typewriter_position)},description_lines:function(){var t=this,e=this.description_header.length;return this.ship.description.map(function(i){var n=i.slice(0,t.typewriter_position-e);return e+=n.length,n}).filter(function(t){return t})},typewriter_active:function(){return this.typewriter_position<(this.ship.name+this.ship.description.join("")).length}},methods:{typewriterStep:function(){var t=this;this.typewriter_active&&(this.typewriter_timeout=setTimeout(function(){t.typewriter_position++,t.typewriterStep()},tt))},updateAspectRatio:function(){var t=document.querySelector(".ship-viewer__model-container");if(t){var e=t.clientWidth,i=t.clientHeight;it&&(it.aspect=e/i,it.updateProjectionMatrix())}},onResize:function(){this.updateAspectRatio()},draw:function(){st=requestAnimationFrame(this.draw),this.ship.model.rotation.x=.45,this.ship.model.rotation.y=-this.rotation,this.rotation+=.01,this.rotation>=2*Math.PI&&(this.rotation=0),this.renderer.render(et,it)},init3D:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=document.querySelector(".ship-viewer__model"),i=new G.WebGLRenderer({canvas:e,antialias:!0}),this.renderer=i,i.setSize(800,600,!1),this.updateAspectRatio(),this.draw();case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),fitCameraToObject:function(t,e){var i=7,n=new G.Box3;n.setFromObject(e);var s=n.getCenter(),a=n.getSize(),r=Math.max(a.x,a.y,a.z),o=t.fov*(Math.PI/180),c=Math.abs(r/4*Math.tan(2*o));c*=i,t.position.z=c;var u=n.min.z,l=u<0?-u+c:c-u;t.far=3*l,t.updateProjectionMatrix(),t.lookAt(s)}},watch:{ship:{immediate:!0,handler:function(t,e){var i=this;e&&et.remove(e.model),nt.intensity=t.light_intensity||2,et.add(t.model),et.traverse(function(t){t.material&&t.material.map&&(t.material.map.magFilter=i.texture_filtering?G.LinearFilter:G.NearestFilter)}),t.model.rotation.x=.45,t.model.rotation.y=0,this.fitCameraToObject(it,t.model),t.model.rotation.y=this.rotation,this.typewriter_timeout&&clearTimeout(this.typewriter_timeout),this.typewriter_position=0,this.typewriterStep()}}},mounted:function(){this.init3D(),window.addEventListener("resize",this.onResize)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize),et.remove(this.ship.model),this.renderer.dispose(),cancelAnimationFrame(st)}},rt=at,ot=(i("e943"),Object(d["a"])(rt,W,D,!1,null,null,null)),ct=ot.exports,ut=new Audio("menu_ambient.ogg");ut.loop=!0;var lt=new Audio("select.wav");lt.loop=!1;var dt=new Audio("select2.ogg");dt.loop=!1;var ht=[{name:"Magenta Station",url:"stations/magent.jpg"},{name:"Marjorie Station",url:"stations/marjorie.jpg"},{name:"Aurora Station",url:"stations/aurora.jpg"}],pt={Loading:"loading",Intermission:"intermission",ShipView:"ship_view",About:"about"},_t={name:"RedSun",components:{MenuButton:_,MenuHeader:w,Panel:x,ContentSection:T,Ticker:H,LoadingBar:$,ShipViewer:ct},data:function(){return{MenuSection:pt,menu_section:pt.Loading,active_station:ht[Math.floor(Math.random()*Math.floor(ht.length))],active_ship:void 0,ambient_play:!1,ticker_disabled:!1,texture_filtering:!0,secrets:!1,loading_progress:0}},computed:{menu_header:function(){return this.menu_section===pt.Loading?"DESTINATION":this.menu_section===pt.ShipView?"SHIP VIEWER":this.menu_section===pt.About?"ABOUT":"UNKNOWN"},ships:function(){var t=this;return J.filter(function(e){return!e.secret||e.secret&&t.secrets})}},methods:{delay:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:1e3,t.abrupt("return",new o.a(function(t){return setTimeout(t,e)}));case 2:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),beep:function(){dt.currentTime=0,dt.play()}},watch:{ambient_play:{handler:function(t){t?ut.play():(ut.pause(),ut.currentTime=0)},immediate:!0},menu_section:function(t){t!==this.MenuSection.ShipView&&t!==this.MenuSection.About||lt.play()},secrets:function(t){!t&&this.active_ship.secret&&(this.active_ship=this.ships[0])}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Q(function(t){e.loading_progress=100*t});case 2:return t.next=4,this.delay(1e3);case 4:return this.active_ship=this.ships[0],t.next=7,this.delay(1e3);case 7:return this.menu_section=this.MenuSection.Intermission,t.next=10,this.delay(1e3);case 10:this.ambient_play=!0,this.menu_section=this.MenuSection.ShipView;case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},vt=_t,ft=(i("5c0b"),Object(d["a"])(vt,s,a,!1,null,null,null)),mt=ft.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(mt)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var n=i("5e27"),s=i.n(n);s.a},"5e27":function(t,e,i){},"8df7":function(t,e,i){"use strict";var n=i("d4db"),s=i.n(n);s.a},a103:function(t,e,i){},d13b:function(t,e,i){"use strict";var n=i("4368"),s=i.n(n);s.a},d4db:function(t,e,i){},e1a5:function(t,e,i){"use strict";var n=i("304a"),s=i.n(n);s.a},e943:function(t,e,i){"use strict";var n=i("2fe9"),s=i.n(n);s.a},ed4b:function(t,e,i){},fd25:function(t,e,i){"use strict";var n=i("295f"),s=i.n(n);s.a}});
//# sourceMappingURL=app.6e685a68.js.map